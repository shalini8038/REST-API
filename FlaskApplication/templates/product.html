{% extends 'base.html' %}
{% include 'header.html' %}

{% block title%} Home {% endblock %}


{% block body%}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h2>Products List<button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target="#myModal">
                Add Products</button></h2>

            {% with messages=get_flashed_messages() %}
            {% if messages %}
            {% for message in messages%}
            <div class="alert alert-success alert-dismissable" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="close">
                    <span aria-hidden="True">x</span>
                </button>
                {{message}}
            </div>

            {% endfor %}

            {% endif %}

            {% endwith %}

            <table class="table table-striped">
                <tr>
                    <th>ProductID</th>
                    <th>ProductName</th>
                    <th>SupplierID</th>
                    <th>Category</th>
                    <th>QuantityPerUnit</th>
                    <th>UnitPrice</th>
                    <th>UnitsInStock</th>
                    <th>UnitsOnOrder</th>
                    <th>RecoderLevel</th>
                    <th>Discontinued</th>
                    <th>Action</th>
                </tr>

                {% for rows in products %}
                <tr>
                    <td>{{rows.ProductID}}</td>
                    <td>{{rows.ProductName}}</td>
                    <td>{{rows.SupplierID}}</td>
                    <td>{{rows.CategoryID}}</td>
                    <td>{{rows.QuantityPerUnit}}</td>
                    <td>{{rows.UnitPrice}}</td>
                    <td>{{rows.UnitsInStock}}</td>
                    <td>{{rows.UnitsOnOrder}}</td>
                    <td>{{rows.RecorderLevel}}</td>
                    <td>{{rows.Discontinued}}</td>
                    <td>
                        <a href="/updateproducts/{{rows.ProductID}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{rows.ProductID}}">Edit</a>
                    </td>
                </tr>
                <div id="modaledit{{rows.OrderID}}" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Please Update Data</h4>
                </div>
                <div class="modal-body">
                    <form action="{{url_for('updateproducts')}}" method="POST">
                        <div class="form-group">
                            <label>ProductID:</label>
                            <input type="text" class="form-control" name="ProductID" value="{{rows.ProductID}}">
                        </div>
                        <div class="form-group">
                            <label>ProductName:</label>
                            <input type="text" class="form-control" name="ProductName" value="{{rows.ProductName}}">
                        </div>
                        <div class="form-group">
                            <label>SupplierID:</label>
                            <input type="text" class="form-control" name="SupplierID" value="{{rows.SupplierID}}">
                        </div>
                        <div class="form-group">
                            <label>CategoryID:</label>
                            <input type="text" class="form-control" name="CategoryID" value="{{rows.CategoryID}}">
                        </div>
                        <div class="form-group">
                            <label>QuantityPerUnit:</label>
                            <input type="text" class="form-control" name="QuantityPerUnit" value="{{rows.QuantityPerUnit}}">
                        </div>
                        <div class="form-group">
                            <label>UnitPrice:</label>
                            <input type="text" class="form-control" name="UnitPrice" value="{{rows.UnitPrice}}">
                        </div>
                        <div class="form-group">
                            <label>UnitsInStock:</label>
                            <input type="text" class="form-control" name="UnitsInStock" value="{{rows.UnitsInStock}}">
                        </div>
                        <div class="form-group">
                            <label>UnitsOnOrder:</label>
                            <input type="text" class="form-control" name="UnitsOnOrder" value="{{rows.UnitsOnOrder}}">
                        </div>
                        <div class="form-group">
                            <label>RecorderLevel:</label>
                            <input type="text" class="form-control" name="RecorderLevel" value="{{rows.RecorderLevel}}">
                        </div>
                        <div class="form-group">
                            <label>Discontinued:</label>
                            <input type="text" class="form-control" name="Discontinued" value="{{rows.Discontinued}}">
                        </div>
                        <div class="form-group">
                            <label>ShipCity:</label>
                            <input type="text" class="form-control" name="ShipCity" value="{{rows.ShipCity}}">
                        </div>
                        <div class="form-group">
                            <label>ShipRegion:</label>
                            <input type="text" class="form-control" name="ShipRegion" value="{{rows.ShipRegion}}">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary" type="submit">Update Data</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
                {% endfor %}
            </table>
        </div>

        <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Please Insert Data</h4>
                </div>
                <div class="modal-body">
                    <form action="{{url_for('insertproducts')}}" method="POST">
                        <div class="form-group">
                            <label>ProductID:</label>
                            <input type="text" class="form-control" name="ProductID">
                        </div>
                        <div class="form-group">
                            <label>ProductName:</label>
                            <input type="text" class="form-control" name="ProductName">
                        </div>
                        <div class="form-group">
                            <label>SupplierID:</label>
                            <input type="text" class="form-control" name="SupplierID">
                        </div>
                        <div class="form-group">
                            <label>CategoryID:</label>
                            <input type="text" class="form-control" name="CategoryID">
                        </div>
                        <div class="form-group">
                            <label>QuantityPerUnit:</label>
                            <input type="text" class="form-control" name="QuantityPerUnit">
                        </div>
                        <div class="form-group">
                            <label>UnitPrice:</label>
                            <input type="text" class="form-control" name="UnitPrice">
                        </div>
                        <div class="form-group">
                            <label>UnitsInStock:</label>
                            <input type="text" class="form-control" name="UnitsInStock">
                        </div>
                        <div class="form-group">
                            <label>UnitsOnOrder:</label>
                            <input type="text" class="form-control" name="UnitsOnOrder">
                        </div>
                        <div class="form-group">
                            <label>RecorderLevel:</label>
                            <input type="text" class="form-control" name="RecorderLevel">
                        </div>
                        <div class="form-group">
                            <label>Discontinued:</label>
                            <input type="text" class="form-control" name="Discontinued">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary" type="submit">Add Data</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}